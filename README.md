# Οδηγίες εκτέλεσης

## Α. Πηγαίος κώδικας

Ο πηγαίος κώδικας αναπτύχθηκε σε γλώσσα Scala (έκδοση 2.13.12)
και σε περιβάλλον ανάπτυξης IntelliJ IDEA Ultimate 2023.2.1.
Για το χτίσιμο (build) του πρότζεκτ χρησιμοποιήθηκε το εργαλείο `SBT`.
Τα περιεχόμενα του αρχείου `build.sbt` ήταν τα εξής: 
```
ThisBuild / version := "0.1.0-SNAPSHOT"

ThisBuild / scalaVersion := "2.13.12"

lazy val root = (project in file("."))
  .settings(
    name := "DataMining"
  )

libraryDependencies += "org.apache.spark" %% "spark-core" % "3.5.0"
libraryDependencies += "org.apache.spark" %% "spark-sql" % "3.5.0"
libraryDependencies += "org.apache.spark" %% "spark-mllib" % "3.5.0"
```
Για την ορθή εκτέλεση του πηγαίου κώδικα θα πρέπει να δοθεί ως μοναδικό 
όρισμα (command line argument) το όνομα/μονοπάτι του αρχείου δεδομένων.


## Β. Αρχείο JAR
Εναλλακτικά, η εκτέλεση του προγράμματος μπορεί να γίνει μέσω της χρήσης
του fat jar αρχείου `3651_3877.jar`, το οποίο βρίσκεται μέσα στον φάκελο
`jar/`. Η εκτέλεση του .jar αρχείου μπορεί να γίνει με την παρακάτω εντολή:

```java
java -jar ./jar/3651_3877.jar <input_file>
```
, όπου `<input_file>` το όνομα/μονοπάτι του αρχείου δεδομένων εισόδου.


## Γ. Συνιστώμενη ροή εργασιών
1. Εκτέλεση του πηγαίου κώδικα(`Main.scala`) ή του .jar αρχείου (`3651_3877.jar`) με όρισμα το όνομα 
του αρχείου δεδομένων. Μετά την εκτέλεση, παράγονται τα εξής:
   1. Τυπώνονται στην κονσόλα οι ακραίες τιμές (outliers) και ο χρόνος εκτέλεσης
   της συνάρτησης `main`.
   2. το αρχείο `kMeans_centers.csv`, το οποίο περιλαμβάνει τα ευρεθέντα
   κέντρα των ομάδων από τον αλγόριθμο των Κ μέσων
   3. Ο φάκελος `predictions.d`, ο οποίος περιέχει τα αποτελέσματα (clustering)
   της εφαρμογής του αλγορίθμου των Κ-μέσων και της αφαίρεσης των ακραίων τιμών.
   Τα αποτελέσματα εγγράφονται σε πολλαπλά αρχεία, ανάλογα με τον αριθμό των
   partitions που χρησιμοποιήθηκαν από το πρόγραμμα. Το συνολικό αρχείο της
   ομαδοποίησης προκύπτει από την συνένωση των επιμέρους αρχείων (φροντίζοντας
   να διατηρηθεί μία φορά το header και όχι πολλαπλές). Εφεξής, θα αναφερόμαστε
   στο αρχείο των αποτελεσμάτων ως `predictions.csv`.

2. Χρήση του αρχείου `predictions.csv` του προηγούμενου βήματος για την εκτέλεση
του πηγαίου κώδικα σε R (`clustering.r`).

3. (Εκτός κύριων ζητουμένων της εργασίας) Χρήση των αρχείων `kMeans_centers.csv` 
και `predictions.csv` για την οπτικοποίηση των ομάδων και των ακραίων τιμών σε
Python3 (visualizations.ipynb).